(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{2863:(e,t,r)=>{Promise.resolve().then(r.bind(r,3163)),Promise.resolve().then(r.bind(r,8400))},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},3163:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(5155),n=r(2115),a=r(9208),o=r(3119),i=r(3513),c=r(6229),u=r(8101),d=r(3391),l=r(9798),p=r(6046);let f=function(e){let{children:t}=e,[r,{isLoading:f}]=(0,o.WT)(),h=(0,d.wA)(),m=(0,p.useRouter)();return(console.log(f),(0,n.useEffect)(()=>{(async function(){try{let e=await (0,c.u)();if(null==e?void 0:e.EmpID){let t={...(await r({empno:e.EmpID}).unwrap())[0],...e};a.A.set(u.ku,JSON.stringify(t),{expires:60,secure:!0}),h((0,i.sX)(t))}else m.push("/")}catch(e){console.log("Failed to fetch user info:",e),m.push("/")}})()},[h,r]),f)?(0,s.jsx)(l.A,{}):(a.A.get(u.Tq),(0,s.jsx)(s.Fragment,{children:t}))}},8400:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var s=r(5155),n=r(2115),a=r(3312),o=r(6229),i=r(6046),c=r(1665),u=r(5055),d=r(3391),l=r(7401);let p=(0,l.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var f=r(8173),h=r.n(f),m=r(648);let g=(0,l.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),v=(0,l.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),y=()=>{let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e||r)},[]),(0,n.useEffect)(()=>{e&&(localStorage.setItem("theme",e),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e))},[e]),(0,s.jsx)(a.$,{variant:"outline",onClick:()=>{t("dark"===e?"light":"dark")},children:"light"===e?(0,s.jsx)(g,{}):(0,s.jsx)(v,{})})},b=function(){let e=(0,i.useRouter)(),t=(0,d.d4)(e=>e.user.userData);return(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 sticky top-0 shadow-md z-50 bg-white dark:bg-black",children:[(0,s.jsx)(h(),{href:"/dashboard",children:(0,s.jsx)("img",{className:"max-w-[50px]",src:"/assets/images/logo.png",alt:"logo"})}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,s.jsx)(h(),{className:"border-4 rounded-full border-cyan-500",href:"/dashboard/profile",children:(0,s.jsxs)(u.eu,{children:[(0,s.jsx)(u.BK,{src:"data:image/png;base64,".concat(null==t?void 0:t.Image)||0}),(0,s.jsx)(u.q5,{children:".!."})]})}),(0,s.jsx)(y,{}),(0,s.jsx)(h(),{href:"/dashboard",children:(0,s.jsxs)(a.$,{className:"bg-gradient-to-r from-teal-400 to-cyan-500",children:["Dashboard ",(0,s.jsx)(m.Uhn,{})]})}),(0,s.jsxs)(a.$,{onClick:()=>{(0,o.r)(),c.oR.success("Goodbye \uD83D\uDC4B"),e.replace("/")},variant:"destructive",children:["Logout ",(0,s.jsx)(p,{})]})]})]})}},9798:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);r(2115);var n=r(7594);let a=function(){return(0,s.jsx)("div",{children:(0,s.jsx)(n.A,{className:"animate-spin text-primary h-8 w-8"})})}},5055:(e,t,r)=>{"use strict";r.d(t,{BK:()=>c,eu:()=>i,q5:()=>u});var s=r(5155),n=r(2115),a=r(4920),o=r(1567);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...n})});i.displayName=a.bL.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...n})});c.displayName=a._V.displayName;let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...n})});u.displayName=a.H4.displayName},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var s=r(5155),n=r(2115),a=r(2317),o=r(1027),i=r(1567);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:u=!1,...d}=e,l=u?a.DX:"button";return(0,s.jsx)(l,{className:(0,i.cn)(c({variant:n,size:o,className:r})),ref:t,...d})});u.displayName="Button"},8101:(e,t,r)=>{"use strict";r.d(t,{Tq:()=>s,ku:()=>n});let s="accessTokenProductionDs",n="personalInfo"},6935:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});let s=()=>"https://192.168.1.253:44783/NaturubWebAPITestDemo/api"},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(3463),n=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},4550:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6935),n=r(9295),a=r(565);let o=(0,n.xP)({reducerPath:"api",baseQuery:(0,a.cw)({baseUrl:(0,s.$)()}),tagTypes:["gatepass","security"],endpoints:()=>({})})},3119:(e,t,r)=>{"use strict";r.d(t,{IJ:()=>s,WT:()=>n});let{useLoginUsersMutation:s,useUserDeatilsMutation:n,useGetSingleProductQuery:a,usePostCommentMutation:o}=r(4550).A.injectEndpoints({endpoints:e=>({loginUsers:e.mutation({query:e=>({url:"/Login/IsValidUserWithJWTToken",method:"POST",body:e})}),userDeatils:e.mutation({query:e=>({url:"/User/GetRequesterDetails",method:"POST",body:e})}),getSingleProduct:e.query({query:e=>"/products/".concat(e)}),postComment:e.mutation({query:e=>{let{id:t,data:r}=e;return{url:"/comment/".concat(t),method:"POST",body:r}}})}),overrideExisting:!0})},3513:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,sX:()=>n});let s=(0,r(2212).Z0)({name:"user",initialState:{userData:null},reducers:{setUserData:(e,t)=>{e.userData=t.payload},updateUserData:(e,t)=>{e.userData?e.userData={...e.userData,...t.payload}:e.userData=t.payload}}}),{setUserData:n,updateUserData:a}=s.actions,o=s.reducer},6229:(e,t,r)=>{"use strict";r.d(t,{u:()=>o,r:()=>i});class s extends Error{}s.prototype.name="InvalidTokenError";var n=r(9208),a=r(8101);async function o(){let e=n.A.get(a.Tq);if(!e)return null;try{let t=function(e,t){let r;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});let n=!0===t.header?0:1,a=e.split(".")[n];if("string"!=typeof a)throw new s(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(a)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new s(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}(e);if(t.EmpID&&t.UserName)return{EmpID:t.EmpID,CompanyID:t.CompanyID,CostCenterID:t.CostCenterID,ServiceDepartmentID:t.ServiceDepartmentID,SubCostCenterID:t.SubCostCenterID,UserID:t.UserID,UserName:t.UserName,iat:t.iat,exp:t.exp}}catch(e){console.log("Error decoding token:",e)}return null}function i(){n.A.remove(a.Tq)}},9208:(e,t,r)=>{"use strict";function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{A:()=>n});var n=function e(t,r){function n(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=s({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},n=0;n<r.length;n++){var a=r[n].split("="),o=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(s[i]=t.read(o,i),e===i)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){n(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var t=t=>e(e.s=t);e.O(0,[5479,7525,3391,4716,9295,8173,4563,8441,1517,7358],()=>t(2863)),_N_E=e.O()}]);